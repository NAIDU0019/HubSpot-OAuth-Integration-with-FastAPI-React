{"ast":null,"code":"var _jsxFileName = \"E:\\\\ss\\\\integrations_technical_assessment\\\\frontend\\\\src\\\\data-form.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { Box, TextField, Button, Typography, Paper, Table, TableHead, TableRow, TableCell, TableBody } from '@mui/material';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst endpointMapping = {\n  'Notion': 'notion',\n  'Airtable': 'airtable',\n  'HubSpot': 'hubspot'\n};\nexport const DataForm = ({\n  integrationType,\n  credentials\n}) => {\n  _s();\n  const [loadedData, setLoadedData] = useState(null);\n  const endpoint = endpointMapping[integrationType];\n  const handleLoad = async () => {\n    try {\n      const formData = new FormData();\n      formData.append('credentials', JSON.stringify(credentials));\n      const response = await axios.post(`http://localhost:8000/integrations/${endpoint}/load`, formData);\n      setLoadedData(response.data);\n    } catch (e) {\n      var _e$response, _e$response$data;\n      alert((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.detail) || \"Failed to load data.\");\n    }\n  };\n  const handleClear = () => {\n    setLoadedData(null);\n  };\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 3,\n    sx: {\n      p: 4,\n      width: '100%',\n      maxWidth: 800,\n      mt: 4,\n      backgroundColor: '#f5f5f5'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"Integration Data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      gap: 2,\n      mb: 2,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleLoad,\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"Load Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleClear,\n        variant: \"outlined\",\n        color: \"secondary\",\n        children: \"Clear Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), loadedData && loadedData.length > 0 ? /*#__PURE__*/_jsxDEV(Table, {\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          sx: {\n            backgroundColor: '#1976d2'\n          },\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            sx: {\n              color: 'white'\n            },\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            sx: {\n              color: 'white'\n            },\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            sx: {\n              color: 'white'\n            },\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            sx: {\n              color: 'white'\n            },\n            children: \"Created At\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: loadedData.map(item => {\n          var _item$extra_params;\n          return /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: item.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: item.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: (_item$extra_params = item.extra_params) === null || _item$extra_params === void 0 ? void 0 : _item$extra_params.createdate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 33\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      color: \"text.secondary\",\n      children: \"No data loaded.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(DataForm, \"5cDt2cux/nLAg6lHurbYodgFI4w=\");\n_c = DataForm;\nvar _c;\n$RefreshReg$(_c, \"DataForm\");","map":{"version":3,"names":["useState","Box","TextField","Button","Typography","Paper","Table","TableHead","TableRow","TableCell","TableBody","axios","jsxDEV","_jsxDEV","endpointMapping","DataForm","integrationType","credentials","_s","loadedData","setLoadedData","endpoint","handleLoad","formData","FormData","append","JSON","stringify","response","post","data","e","_e$response","_e$response$data","alert","detail","handleClear","elevation","sx","p","width","maxWidth","mt","backgroundColor","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","display","gap","mb","onClick","color","length","map","item","_item$extra_params","id","name","email","extra_params","createdate","_c","$RefreshReg$"],"sources":["E:/ss/integrations_technical_assessment/frontend/src/data-form.js"],"sourcesContent":["import { useState } from 'react';\nimport {\n    Box,\n    TextField,\n    Button,\n    Typography,\n    Paper,\n    Table,\n    TableHead,\n    TableRow,\n    TableCell,\n    TableBody,\n} from '@mui/material';\nimport axios from 'axios';\n\nconst endpointMapping = {\n    'Notion': 'notion',\n    'Airtable': 'airtable',\n    'HubSpot': 'hubspot'\n};\n\nexport const DataForm = ({ integrationType, credentials }) => {\n    const [loadedData, setLoadedData] = useState(null);\n    const endpoint = endpointMapping[integrationType];\n\n    const handleLoad = async () => {\n        try {\n            const formData = new FormData();\n            formData.append('credentials', JSON.stringify(credentials));\n            const response = await axios.post(`http://localhost:8000/integrations/${endpoint}/load`, formData);\n            setLoadedData(response.data);\n        } catch (e) {\n            alert(e?.response?.data?.detail || \"Failed to load data.\");\n        }\n    };\n\n    const handleClear = () => {\n        setLoadedData(null);\n    };\n\n    return (\n        <Paper elevation={3} sx={{ p: 4, width: '100%', maxWidth: 800, mt: 4, backgroundColor: '#f5f5f5' }}>\n            <Typography variant=\"h6\" gutterBottom>Integration Data</Typography>\n\n            <Box display=\"flex\" gap={2} mb={2}>\n                <Button onClick={handleLoad} variant=\"contained\" color=\"primary\">\n                    Load Data\n                </Button>\n                <Button onClick={handleClear} variant=\"outlined\" color=\"secondary\">\n                    Clear Data\n                </Button>\n            </Box>\n\n            {loadedData && loadedData.length > 0 ? (\n                <Table>\n                    <TableHead>\n                        <TableRow sx={{ backgroundColor: '#1976d2' }}>\n                            <TableCell sx={{ color: 'white' }}>ID</TableCell>\n                            <TableCell sx={{ color: 'white' }}>Name</TableCell>\n                            <TableCell sx={{ color: 'white' }}>Email</TableCell>\n                            <TableCell sx={{ color: 'white' }}>Created At</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {loadedData.map((item) => (\n                            <TableRow key={item.id}>\n                                <TableCell>{item.id}</TableCell>\n                                <TableCell>{item.name}</TableCell>\n                                <TableCell>{item.email}</TableCell>\n                                <TableCell>{item.extra_params?.createdate}</TableCell>\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n            ) : (\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                    No data loaded.\n                </Typography>\n            )}\n        </Paper>\n    );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}